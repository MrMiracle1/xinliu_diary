# 日常记录应用 - 生成Prompt

**版本**: v1.4  
**创建日期**: 2025-08-22  
**更新日期**: 2025-08-25 (新增v1.0.12：用户体验重大升级功能)  
**用途**: 用于重现当前版本的完整开发过程

---

## 📖 Prompt概述

此文档包含了生成当前版本日常记录应用的完整指令集。可以将此prompt提供给AI助手，以重现相同功能和设计的应用。

---

## 🎯 核心生成指令

### 主要Prompt

```
请你为我生成一个网页，用来进行日常记录的，要求如下： 

产品功能方面：

一、日记功能
1、每天按照日期会有一个新的日记页用来记录，当然也可以看调整日期看历史的记录
2、对于每一天的日记页分为了四个区域，最上面区域是"今日大事"，用于对今天的主事件项进行记录 
3、中间有两个区域，左侧区域是今天具体的todo项，可以继承上面的主事件项，并进行二级todo项的拆分，右侧是对于几天完成事件的简单记录。右侧的事件可以关联对应左侧的事件，也可以不对应 
4、底部的区域是今日感悟，用来记录今天的感悟日记 
5、所有的记录项可以进行增删改。 
6、数据需要保存，再次打开浏览器不会丢失，也可以一键删除所有记录 
7、日记记录可以格式化文件导出 
8、"今日大事"区域可以一键继承昨天的事件
9、GitHub风格日记热力图：展开后以类似于GitHub提交记录一样，通过不同格子的深浅可以看到日记记录了多少，以及每天是否记录，点击对应格子可以进行对应跳转，当然也可以折叠此项功能
10、今日大事详情窗口：点击任何大事项目可以打开详情窗口，显示第一次创建时间、相关链接等信息，支持链接测试和新窗口打开

二、计划功能
1、日记主页有"计划"入口 
2、用户可以查看计划列表，并对计划进行增删改 
3、计划由多个事件项组成，点击开始执行计划后开始计时，用户逐步勾选工作项进行完成 
4、计划完成后有恭喜弹窗，用户会简要预览计划完成情况 
5、可以强制终止计划，全部完成后自动完成计划 
6、计划中有必选项，强制终止要提示用户有这些没完成，是不是还要强制终止
7、执行与编辑计划要有独立的页面，请做好页面间互相跳转的交互
8、编辑工作项的时候要有独立的窗口
9、计划每日可独立执行，互不影响，每天的执行情况独立记录
10、常用工作项功能：用户可以预设常用的工作项，在编辑计划时可以快捷添加
11、日记导出增强：支持选择导出日期范围，默认当天，也可快捷选择导出所有日记
12、清空日记增强：支持选择清空日期范围，与计划功能独立
13、继承昨日按钮应在今日大事区域，而非日期选择器区域

UI设计方面：
1、整体风格以奶油简约风为主，支持深色和浅色主题切换（必须实现）
2、交互设计友善
3、UI上布局合理，各组件简约好看
4、布局上自动适配页面大小，并且自动适配手机与电脑
5、设置中支持主题切换功能，但不支持设备模式切换（移除该功能）
6、设置窗口需要拉宽以便数据统计区域能一行完整显示
7、完成事件使用橙色底色，不再使用绿色，统一整体配色方案
```

---

## 🔧 技术实现指导

### 技术栈要求
```
使用纯HTML/CSS/JavaScript实现，不依赖任何框架：
- HTML5: 语义化标签，响应式meta标签
- CSS3: CSS Variables，Flexbox，Grid布局
- JavaScript ES6+: 模块化设计，现代API使用
- LocalStorage: 数据持久化存储
- 无需任何外部依赖或构建工具
```

### 架构设计要求
```
采用模块化架构设计：
1. 主控制器（App Controller）- 管理应用状态和页面切换
2. 日记控制器（Diary Controller）- 处理日记相关功能
3. 计划控制器（Plan Controller）- 处理计划相关功能
4. 存储管理器（Storage Manager）- 统一数据存储操作
5. 工具函数库（Utils）- 通用工具函数集合

文件结构：
├── index.html          # 主页面
├── styles/
│   ├── main.css        # 主样式文件
│   └── responsive.css  # 响应式样式
├── js/
│   ├── utils.js        # 工具函数
│   ├── storage.js      # 存储管理
│   ├── diary.js        # 日记功能
│   ├── plans.js        # 计划功能
│   └── app.js          # 主应用
└── README.md           # 说明文档
```

---

## 🎨 设计规范详细要求

### 奶油简约风设计规范
```css
/* 色彩系统 */
--cream-white: #fefef9;      /* 主背景色 */
--cream-beige: #f5f2e8;      /* 次背景色 */
--soft-brown: #d4c4a0;       /* 辅助色 */
--warm-brown: #b5a082;       /* 强调色 */
--dark-brown: #8b7355;       /* 深色文字 */
--accent-orange: #e8ad8c;    /* 点缀色（也用于完成事件） */
--soft-green: #c8d4b5;       /* 成功色（保留但不用于完成事件） */

/* v1.0.11重要更新：完成事件使用橙色而非绿色 */
.list-item.completed {
    background: var(--accent-orange);
    opacity: 0.8;
}

/* 设计原则 */
1. 温暖舒适的色调搭配
2. 圆角设计（8px-12px）
3. 柔和的阴影效果
4. 充足的留白空间
5. 清晰的视觉层次
6. 统一的橙色主题（完成事件、拖拽成功、成功消息）
```

### 响应式设计要求
```css
/* 断点设计 */
- 桌面端: >1024px - 完整布局
- 平板端: 768px-1024px - 适配调整  
- 手机端: <768px - 单栏布局
- 小屏端: <480px - 紧凑布局

/* 适配要求 */
1. 中间两栏在手机上变为单栏
2. 导航在小屏下可能需要折叠
3. 模态框在手机上全屏显示
4. 字体大小自适应调整
5. 触摸友好的按钮尺寸
```

---

## 📋 功能实现细节要求

### 日记功能详细要求
```javascript
// 数据结构设计
DiaryEntry = {
  majorEvents: [           // 今日大事
    { 
      id, 
      text, 
      createdAt, 
      relatedLinks: [        // v1.0.11新增：相关链接
        { url, title }
      ]
    }
  ],
  todos: [                 // 今日待办
    { id, text, completed, relatedEventId, createdAt }
  ],
  completed: [             // 完成事项
    { id, text, relatedTodoId, completedAt }
  ],
  reflection: string,      // 今日感悟
  createdAt: timestamp,
  updatedAt: timestamp
}

// 核心功能要求
1. 自动保存机制（防抖1秒）
2. 日期导航（前后切换、日期选择器）
3. GitHub风格热力图（365天记录可视化、展开/折叠、点击跳转）
4. 记录密度计算（5级深浅显示：无记录/少量/中等/丰富/详细）
5. 事项关联（下拉选择关联项）
6. 继承昨日大事（一键复制）
7. 导出功能（Markdown格式）
8. 实时渲染更新
9. 事件详情窗口（v1.0.11新增）：
   - 点击大事项目显示详情模态框
   - 显示创建时间（格式化为易读形式）
   - 相关链接管理（添加、编辑、删除）
   - 链接有效性测试功能
   - 新窗口打开链接
   - 详情保存和取消功能
```

### 计划功能详细要求
```javascript
// 数据结构设计
Plan = {
  id: string,
  name: string,
  tasks: [
    { id, text, required, completed, completedAt }
  ],
  status: 'draft'|'active'|'completed'|'stopped',
  startTime: timestamp,
  endTime: timestamp,
  totalTime: number,
  createdAt: timestamp,
  updatedAt: timestamp
}

// 状态流转
draft → active → completed
  ↓       ↓
  ↓    stopped  
  ↓_______↗

// 核心功能要求
1. 计划CRUD操作
2. 实时计时功能（格式：HH:MM:SS）
3. 任务进度跟踪
4. 必需任务检查
5. 强制终止确认
6. 完成庆祝弹窗
7. 独立编辑/执行页面
```

---

## 🔀 交互设计详细要求

### 页面跳转逻辑
```
主页面导航：
├── 日记页面（默认）
│   ├── 日期导航
│   ├── 四区域内容
│   └── 操作按钮
├── 计划页面
│   ├── 计划列表
│   ├── 新建计划 → 编辑页面
│   ├── 编辑计划 → 编辑页面  
│   └── 执行计划 → 执行页面
└── 设置页面（模态框）
    ├── 显示设置
    ├── 数据管理
    └── 快捷键说明
```

### 用户交互要求
```
1. 所有重要操作需要确认对话框
2. 实时保存提示和错误处理
3. 键盘快捷键支持：
   - Ctrl+S: 保存
   - Ctrl+N: 新建
   - Ctrl+E: 导出
   - Ctrl+1/2: 切换页面
4. 友好的错误提示和成功反馈
5. 加载状态和空状态设计
```

---

## 💾 数据存储要求

### LocalStorage设计
```javascript
// 存储键值设计
storage_keys = {
  diaries: 'daily_journal_diaries',    // 日记数据
  plans: 'daily_journal_plans',        // 计划数据
  settings: 'daily_journal_settings'   // 设置数据
}

// 数据操作要求
1. 统一的存储管理器
2. 错误处理和恢复机制
3. 数据导入导出功能
4. 存储空间监控
5. 数据备份建议
```

### 数据完整性保障
```
1. 自动保存机制防止数据丢失
2. 操作前数据验证
3. 异常情况下的数据恢复
4. 定期提醒用户导出备份
5. 浏览器兼容性检查
```

---

## 🚀 性能和兼容性要求

### 性能要求
```
1. 页面加载时间: <2秒
2. 交互响应时间: <200ms
3. 大数据量支持: 1年以上日记数据
4. 内存使用优化: 避免内存泄漏
5. 渲染性能: 流畅的动画和过渡
```

### 浏览器兼容性
```
支持的浏览器：
- Chrome 60+
- Firefox 55+ 
- Safari 12+
- Edge 79+

必须支持的特性：
- LocalStorage
- ES6+ JavaScript
- CSS Grid和Flexbox
- CSS Variables
- Fetch API
```

---

## 🎁 附加功能建议

### 用户体验增强
```
1. 设备模式切换按钮（手机/桌面/自动）
2. 主题切换支持（预留深色模式）
3. 数据统计面板（使用情况）
4. 快捷键帮助说明
5. 新手引导提示
```

### 开发工具支持
```
1. 开发时的调试信息
2. 错误日志收集
3. 性能监控点
4. 测试用例覆盖
5. 代码注释完整性
```

---

## 📝 开发检查清单

### 功能完整性检查
- [ ] 日记四区域正常工作
- [ ] 计划创建执行流程完整
- [ ] 每日独立执行功能正常
- [ ] 常用工作项功能可用
- [ ] 数据保存和加载正常
- [ ] 导入导出功能可用
- [ ] 所有交互按钮正常
- [ ] 响应式设计适配良好

### 质量检查
- [ ] 代码结构清晰模块化
- [ ] CSS样式符合奶油简约风
- [ ] JavaScript无语法错误
- [ ] 浏览器兼容性测试通过
- [ ] 性能表现符合要求
- [ ] 用户体验流畅友好

### 文档完整性
- [ ] README.md使用说明完整
- [ ] 代码注释充分清晰
- [ ] 功能说明准确无误
- [ ] 安装运行步骤清楚
- [ ] 故障排除指南有效

---

## 🔄 迭代开发建议

### 开发顺序建议
```
1. 先实现基础HTML结构
2. 完成CSS样式和响应式设计
3. 实现数据存储管理模块
4. 开发日记功能模块
5. 开发计划功能模块
6. 集成测试和优化
7. 文档编写和完善
```

### 测试验证要点
```
1. 所有CRUD操作正常
2. 数据持久化可靠
3. 页面跳转逻辑正确
4. 响应式设计完好
5. 错误处理机制有效
6. 用户体验流畅
```

---

*ThisPrompt文档可以确保重现完全相同功能和质量的日常记录应用。开发时请严格按照要求执行，确保最终产品的一致性和完整性。*

---

## v1.0.10 版本优化指令（基于v1.0.9）

在v1.0.9版本的基础上，按照以下指令进行优化：

### 阶段一：热力图功能升级

```
1、热力图展开后折叠按钮没有相应的图标，各个放个对应的日期也没有标记，可以参考github给出横纵坐标的月份和日期。热力图与日期选择器放在一个容器下面，用箭头来切换展开和折叠即可。
```

### 阶段二：功能精简化

```
2、所有时间的复制功能不需要，删除即可
```

### 阶段三：文本处理优化

```
3、事件项如果太长，字展示不全，请你想办法如何设计可以解决问题
```

### 阶段四：UI界面优化

```
5、添加事件的按钮请放在各个容器的右上角，点击添加后焦点自动锁定到新事件
6、待办事件与完成事件的宽度应该等分，目前不等分
```

### 阶段五：文档更新

```
文档更新：
1、进行开发日志的维护
2、用户手册文档请进行维护
3、指令文档请进行维护
4、产品文档请进行相关维护
```

---

## 版本特性总结

### v1.0.10 新增特性
- **GitHub风格热力图升级**: 添加完整的月份和星期坐标系统
- **智能文本处理**: 长文本自动截断、展开和工具提示功能
- **UI界面优化**: 按钮布局重新设计，提升用户体验
- **功能精简**: 移除不必要的复制功能，简化操作流程
- **布局修复**: 解决容器宽度不等分问题

该版本专注于**用户体验全面升级**，通过技术优化和界面改进提升应用的可用性和美观度。

---

## 🔄 版本管理规则

### 版本号联动规则
当更新版本号时，必须同时更新以下文件中的版本号：

1. **前端显示** (index.html):
   ```html
   <span class="footer-version">v{VERSION}</span>
   ```

2. **文档版本** (docs/):
   - `docs/development-log.md` - 首行版本号
   - `docs/product-spec.md` - 首行版本号  
   - `docs/generation-prompt.md` - 首行版本号
   - `README.md` - 首行版本号

3. **更新流程**:
   - 先更新文档中的版本号
   - 再更新 index.html 中的显示版本号
   - 确保所有版本号保持一致

### 版本号格式
- 采用语义化版本控制: `主版本.次版本.修订版本`
- 前端显示格式: `v{VERSION}`
- 文档显示格式: `v{VERSION}`
